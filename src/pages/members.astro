---
import Layout from '../layouts/Layout.astro';

interface ListItem {
  id: number;
  text: string;
  subItems?: ListItem[];
}

const BlogPosts = await Astro.glob('../pages/posts/blog/*.md');
const ProjectPosts = await Astro.glob('../pages/posts/projects/*.md');
---

<Layout title="部員の活動 | TUT-IIC">
  <div class="min-h-screen bg-gray-100 text-gray-800">
    <div class="container mx-auto px-5 py-10">
      <main>
        <section
          id="about"
          class="p-4 bg-white shadow-md mb-5 mx-2 border-2 border-t-tut-red"
        >
          <h2 class="text-2xl font-bold mb-3">部員の活動</h2>
          <p>部員がLT会で発表した技術について紹介しています。</p><br />
          <p>勉強会や、進行中のプロジェクトについての紹介もしています。</p><br
          /><br />
          <h3 class="text-xl font-bold mb-3">進行中のプロジェクト</h3>
          <div class="overflow-y-auto space-x-4">
            {
              ProjectPosts.map((post) => (
                <article class="w-96 bg-white shadow-lg rounded-lg overflow-hidden border border-gray-300">
                  <div class="p-6">
                    <h2 class="text-2xl font-bold mb-2 text-gray-800">
                      {post.frontmatter.title}
                    </h2>
                    <p class="text-gray-700 mb-4">
                      {post.frontmatter.description}
                    </p>
                    <a
                      href={post.url}
                      class="text-red-700 hover:text-red-800 font-semibold flex justify-end"
                    >
                      Read more...
                    </a>
                  </div>
                </article>
              ))
            }
          </div><br />
          <h3 class="text-xl font-bold mb-3">Archive</h3>
          <div class="flex overflow-x-auto space-x-2">
            {
              BlogPosts.map((post) => (
                <article>
                  <div class="flex flex-col max-w-sm w-96 h-full bg-white border border-gray-200 rounded-lg shadow">
                    <img
                      src={post.frontmatter.image.url}
                      alt={post.frontmatter.title}
                      class="rounded-t-lg"
                    />
                    <div class="p-5 flex-grow">
                      <h2 class="text-2xl font-bold mb-2 text-gray-800">
                        {post.frontmatter.title}
                      </h2>
                    </div>
                    <a
                      href={post.url}
                      class="text-red-700 hover:text-red-800 font-semibold mt-auto p-5 flex justify-end"
                    >
                      Read more...
                    </a>
                  </div>
                </article>
              ))
            }
          </div>
        </section><br /><br />
      </main>
    </div>
  </div>
</Layout>
